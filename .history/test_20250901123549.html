<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI ìŠ¤í„°ë”” ë©˜í†  - í…ŒìŠ¤íŠ¸</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
        }
        
        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .card {
            background: white;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #2c3e50;
        }
        
        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e1e8ed;
            border-radius: 8px;
            font-size: 16px;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .btn:hover {
            transform: translateY(-2px);
        }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .plan-week {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            border-left: 4px solid #667eea;
        }
        
        .plan-task {
            background: white;
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 8px;
            border: 1px solid #e1e8ed;
        }
        
        .hidden {
            display: none !important;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
        }
        
        .chat-messages {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .message {
            margin-bottom: 15px;
            display: flex;
        }
        
        .message.user {
            justify-content: flex-end;
        }
        
        .message-content {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 18px;
            word-wrap: break-word;
        }
        
        .message.bot .message-content {
            background: white;
            border: 1px solid #e1e8ed;
        }
        
        .message.user .message-content {
            background: #667eea;
            color: white;
        }
        
        .chat-input {
            display: flex;
            gap: 10px;
        }
        
        .chat-input input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #e1e8ed;
            border-radius: 25px;
            font-size: 16px;
        }
        
        .resource-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            border-left: 4px solid #f39c12;
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>ğŸ“ AI ìŠ¤í„°ë”” ë©˜í† </h1>
            <p>ë§ì¶¤í˜• í•™ìŠµ í”Œëœê³¼ ìŠ¤í„°ë”” ê·¸ë£¹ ë§¤ì¹­</p>
        </header>

        <main>
            <!-- ì˜¨ë³´ë”© ì„¹ì…˜ -->
            <section id="onboarding" class="card">
                <h2>í•™ìŠµ ëª©í‘œë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”</h2>
                <form id="goalForm">
                    <div class="form-group">
                        <label for="subject">ê³¼ëª©ëª…</label>
                        <input type="text" id="subject" placeholder="ì˜ˆ: ë§ˆì¼€íŒ… ì›ë¡ " required>
                    </div>
                    <div class="form-group">
                        <label for="targetGrade">ëª©í‘œ ì„±ì </label>
                        <select id="targetGrade" required>
                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="A+">A+</option>
                            <option value="A">A</option>
                            <option value="B+">B+</option>
                            <option value="B">B</option>
                            <option value="C+">C+</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="currentLevel">í˜„ì¬ ìˆ˜ì¤€</label>
                        <select id="currentLevel" required>
                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="ì´ˆê¸‰">ì´ˆê¸‰ (ê¸°ì´ˆ ê°œë… í•™ìŠµ í•„ìš”)</option>
                            <option value="ì¤‘ê¸‰">ì¤‘ê¸‰ (ê°œë… ì´í•´, ì‹¬í™” í•™ìŠµ í•„ìš”)</option>
                            <option value="ê³ ê¸‰">ê³ ê¸‰ (ì‹¤ì „ ì ìš©, ë¬¸ì œ í’€ì´ í•„ìš”)</option>
                        </select>
                    </div>
                    <button type="submit" class="btn">
                        ğŸ”® ë§ì¶¤ í”Œëœ ìƒì„±í•˜ê¸°
                    </button>
                </form>
            </section>

            <!-- ëŒ€ì‹œë³´ë“œ ì„¹ì…˜ -->
            <section id="dashboard" class="hidden">
                <div class="dashboard-grid">
                    <!-- í•™ìŠµ í”Œëœ ì¹´ë“œ -->
                    <div class="card">
                        <h3>ğŸ“… í•™ìŠµ í”Œëœ</h3>
                        <div id="studyPlan">
                            <div class="loading">í”Œëœì„ ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤...</div>
                        </div>
                    </div>

                    <!-- ìŠ¤í„°ë”” ê·¸ë£¹ ì¹´ë“œ -->
                    <div class="card">
                        <h3>ğŸ‘¥ ìŠ¤í„°ë”” ê·¸ë£¹</h3>
                        <div>
                            <button id="findGroupBtn" class="btn" style="margin-right: 10px;">ğŸ” ê·¸ë£¹ ì°¾ê¸°</button>
                            <button id="createGroupBtn" class="btn">â• ê·¸ë£¹ ë§Œë“¤ê¸°</button>
                        </div>
                        <div id="groupInfo" class="hidden" style="margin-top: 20px; padding: 20px; background: #f8f9fa; border-radius: 8px;">
                            <h4>ë§¤ì¹­ëœ ê·¸ë£¹</h4>
                            <p><strong>ê³¼ëª©:</strong> <span id="groupSubject"></span></p>
                            <p><strong>ëª©í‘œ:</strong> <span id="groupGoal"></span></p>
                            <p><strong>ë©¤ë²„:</strong> <span id="groupMembers"></span></p>
                            <a id="groupLink" href="#" class="btn" target="_blank" style="margin-top: 10px; display: inline-block;">ğŸ“¹ ìŠ¤í„°ë””ë£¸ ì…ì¥</a>
                        </div>
                    </div>

                    <!-- AI ì±—ë´‡ ì¹´ë“œ -->
                    <div class="card">
                        <h3>ğŸ¤– AI ë©˜í† </h3>
                        <div>
                            <div id="chatMessages" class="chat-messages">
                                <div class="message bot">
                                    <div class="message-content">
                                        ì•ˆë…•í•˜ì„¸ìš”! í•™ìŠµ ì¤‘ ê¶ê¸ˆí•œ ì ì´ ìˆìœ¼ë©´ ì–¸ì œë“  ë¬¼ì–´ë³´ì„¸ìš”. ğŸ“š
                                    </div>
                                </div>
                            </div>
                            <div class="chat-input">
                                <input type="text" id="chatInput" placeholder="ì§ˆë¬¸ì„ ì…ë ¥í•˜ì„¸ìš”...">
                                <button id="sendBtn" class="btn">ğŸ“¤</button>
                            </div>
                        </div>
                    </div>

                    <!-- í•™ìŠµ ìë£Œ ì¹´ë“œ -->
                    <div class="card">
                        <h3>ğŸ“– ì¶”ì²œ ìë£Œ</h3>
                        <div id="resources">
                            <div class="loading">ìë£Œë¥¼ ì¤€ë¹„í•˜ê³  ìˆìŠµë‹ˆë‹¤...</div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let userData = {};

        // DOM ìš”ì†Œë“¤
        const onboardingSection = document.getElementById('onboarding');
        const dashboardSection = document.getElementById('dashboard');
        const goalForm = document.getElementById('goalForm');
        const studyPlanDiv = document.getElementById('studyPlan');
        const groupInfoDiv = document.getElementById('groupInfo');
        const chatMessages = document.getElementById('chatMessages');
        const chatInput = document.getElementById('chatInput');
        const sendBtn = document.getElementById('sendBtn');
        const findGroupBtn = document.getElementById('findGroupBtn');
        const createGroupBtn = document.getElementById('createGroupBtn');
        const resourcesDiv = document.getElementById('resources');

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
        document.addEventListener('DOMContentLoaded', function() {
            console.log('í…ŒìŠ¤íŠ¸ í˜ì´ì§€ ë¡œë“œë¨');
            
            if (goalForm) {
                goalForm.addEventListener('submit', handleGoalSubmit);
            }
            
            if (sendBtn && chatInput) {
                sendBtn.addEventListener('click', handleChatSend);
                chatInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') handleChatSend();
                });
            }
            
            if (findGroupBtn) {
                findGroupBtn.addEventListener('click', handleFindGroup);
            }
            
            if (createGroupBtn) {
                createGroupBtn.addEventListener('click', handleCreateGroup);
            }
        });

        // ëª©í‘œ ì œì¶œ ì²˜ë¦¬
        async function handleGoalSubmit(e) {
            e.preventDefault();
            console.log('í¼ ì œì¶œë¨');
            
            const subject = document.getElementById('subject').value;
            const targetGrade = document.getElementById('targetGrade').value;
            const currentLevel = document.getElementById('currentLevel').value;
            
            if (!subject || !targetGrade || !currentLevel) {
                alert('ëª¨ë“  í•„ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            userData = { subject, targetGrade, currentLevel };
            console.log('ì‚¬ìš©ì ë°ì´í„°:', userData);
            
            // í•™ìŠµ í”Œëœ ìƒì„±
            generateStudyPlan();
            
            // í•™ìŠµ ìë£Œ ìƒì„±
            generateResources();
            
            // ëŒ€ì‹œë³´ë“œë¡œ ì „í™˜
            showDashboard();
        }

        // í•™ìŠµ í”Œëœ ìƒì„±
        function generateStudyPlan() {
            const plan = {
                weeks: [
                    {
                        week: 1,
                        title: "ê¸°ì´ˆ ê°œë… ì´í•´",
                        tasks: [
                            `${userData.subject} ê¸°ë³¸ ìš©ì–´ ì •ë¦¬í•˜ê¸°`,
                            "êµì¬ 1-2ì¥ ì½ê³  ìš”ì•½í•˜ê¸°",
                            "ê°œë… ì •ë¦¬ ë…¸íŠ¸ ì‘ì„±í•˜ê¸°"
                        ],
                        focus: "ê³¼ëª©ì˜ ê¸°ë³¸ ê°œë…ê³¼ ìš©ì–´ë¥¼ í™•ì‹¤íˆ ì´í•´í•˜ê¸°"
                    },
                    {
                        week: 2,
                        title: "í•µì‹¬ ì´ë¡  í•™ìŠµ",
                        tasks: [
                            "ì£¼ìš” ì´ë¡ ê³¼ ì›ë¦¬ í•™ìŠµí•˜ê¸°",
                            "ì˜ˆì œ ë¬¸ì œ í’€ì´ ì—°ìŠµí•˜ê¸°",
                            "ì´ë¡  ê°„ ì—°ê²°ì  íŒŒì•…í•˜ê¸°"
                        ],
                        focus: "í•µì‹¬ ì´ë¡ ì„ ì²´ê³„ì ìœ¼ë¡œ ì •ë¦¬í•˜ê³  ì´í•´í•˜ê¸°"
                    },
                    {
                        week: 3,
                        title: "ì‹¤ì „ ë¬¸ì œ ì—°ìŠµ",
                        tasks: [
                            "ê¸°ì¶œë¬¸ì œ ìœ í˜• ë¶„ì„í•˜ê¸°",
                            "ìœ ì‚¬ ë¬¸ì œ ë°˜ë³µ í’€ì´í•˜ê¸°",
                            "ì˜¤ë‹µ ë…¸íŠ¸ ì‘ì„±í•˜ê¸°"
                        ],
                        focus: "ë¬¸ì œ í’€ì´ ëŠ¥ë ¥ í–¥ìƒê³¼ ì‹¤ì „ ê°ê° ê¸°ë¥´ê¸°"
                    },
                    {
                        week: 4,
                        title: "ì‹¬í™” í•™ìŠµ",
                        tasks: [
                            "ê³ ë‚œë„ ë¬¸ì œ ë„ì „í•˜ê¸°",
                            "ê´€ë ¨ ë…¼ë¬¸ì´ë‚˜ ìë£Œ ì¶”ê°€ í•™ìŠµí•˜ê¸°",
                            "ê°œì¸ í”„ë¡œì íŠ¸ ë˜ëŠ” ê³¼ì œ ìˆ˜í–‰í•˜ê¸°"
                        ],
                        focus: "ì‹¬í™” ì§€ì‹ ìŠµë“ê³¼ ì°½ì˜ì  ì‚¬ê³ ë ¥ ê°œë°œ"
                    }
                ],
                tips: [
                    "ë§¤ì¼ 30ë¶„ì”© ê¾¸ì¤€íˆ í•™ìŠµí•˜ëŠ” ê²ƒì´ íš¨ê³¼ì ì…ë‹ˆë‹¤.",
                    "ë³µìŠµì€ í•™ìŠµí•œ ì§€ 24ì‹œê°„ ì´ë‚´ì— í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.",
                    "ìŠ¤í„°ë”” ê·¸ë£¹ê³¼ í•¨ê»˜ í•™ìŠµí•˜ë©´ ë™ê¸°ë¶€ì—¬ê°€ ë©ë‹ˆë‹¤.",
                    "ì •ê¸°ì ìœ¼ë¡œ í•™ìŠµ ì§„ë„ë¥¼ ì ê²€í•˜ê³  ê³„íšì„ ì¡°ì •í•˜ì„¸ìš”."
                ]
            };
            
            displayStudyPlan(plan);
        }

        // í•™ìŠµ í”Œëœ í‘œì‹œ
        function displayStudyPlan(plan) {
            let html = '<div style="margin-bottom: 20px;"><h4>ğŸ“š í•™ìŠµ íŒ</h4>';
            plan.tips.forEach(tip => {
                html += `<p>â€¢ ${tip}</p>`;
            });
            html += '</div>';
            
            plan.weeks.forEach(week => {
                html += `
                <div class="plan-week">
                    <h4>ğŸ“… ${week.week}ì£¼ì°¨: ${week.title}</h4>
                    <p><strong>í•µì‹¬:</strong> ${week.focus}</p>
                    <div>
                `;
                
                week.tasks.forEach(task => {
                    html += `<div class="plan-task">âœ“ ${task}</div>`;
                });
                
                html += '</div></div>';
            });
            
            studyPlanDiv.innerHTML = html;
        }

        // í•™ìŠµ ìë£Œ ìƒì„±
        function generateResources() {
            const resources = [
                {
                    title: "ğŸ“– êµì¬ ìš”ì•½ ë…¸íŠ¸",
                    description: `${userData.subject} í•µì‹¬ ê°œë… ì •ë¦¬ ë° ìš”ì•½ ìë£Œ`,
                    type: "ìš”ì•½"
                },
                {
                    title: "ğŸ¯ ì‹œí—˜ ëŒ€ë¹„ ë¬¸ì œì§‘",
                    description: "ëª©í‘œ ì„±ì  ë‹¬ì„±ì„ ìœ„í•œ ì—°ìŠµ ë¬¸ì œ ëª¨ìŒ",
                    type: "ë¬¸ì œ"
                },
                {
                    title: "ğŸ“ í•™ìŠµ ì²´í¬ë¦¬ìŠ¤íŠ¸",
                    description: "ì£¼ì°¨ë³„ í•™ìŠµ ì§„ë„ í™•ì¸ ì²´í¬ë¦¬ìŠ¤íŠ¸",
                    type: "ì²´í¬ë¦¬ìŠ¤íŠ¸"
                },
                {
                    title: "ğŸ’¡ í•™ìŠµ ì „ëµ ê°€ì´ë“œ",
                    description: "íš¨ê³¼ì ì¸ í•™ìŠµ ë°©ë²•ê³¼ ì‹œê°„ ê´€ë¦¬ íŒ",
                    type: "ê°€ì´ë“œ"
                }
            ];
            
            displayResources(resources);
        }

        // í•™ìŠµ ìë£Œ í‘œì‹œ
        function displayResources(resources) {
            let html = '';
            resources.forEach(resource => {
                html += `
                <div class="resource-item">
                    <h4>${resource.title}</h4>
                    <p>${resource.description}</p>
                    <small>ìœ í˜•: ${resource.type}</small>
                </div>
                `;
            });
            resourcesDiv.innerHTML = html;
        }

        // ìŠ¤í„°ë”” ê·¸ë£¹ ì°¾ê¸°
        function handleFindGroup() {
            const groups = [
                {
                    subject: userData.subject,
                    goal: `${userData.targetGrade} ëª©í‘œ`,
                    members: "ê¹€ë¯¼ì§€, ë°•í˜„ìš°, ì´ì§€ì€ (3ëª…)",
                    link: "https://meet.google.com/abc-defg-hij"
                },
                {
                    subject: "ìœ ì‚¬ ê³¼ëª©",
                    goal: "A+ ëª©í‘œ",
                    members: "ìµœì¤€í˜¸, ì •ìˆ˜ì§„ (2ëª…)",
                    link: "https://meet.google.com/xyz-uvw-rst"
                }
            ];
            
            const matchedGroup = groups[Math.floor(Math.random() * groups.length)];
            displayMatchedGroup(matchedGroup);
        }

        // ë§¤ì¹­ëœ ê·¸ë£¹ í‘œì‹œ
        function displayMatchedGroup(group) {
            document.getElementById('groupSubject').textContent = group.subject;
            document.getElementById('groupGoal').textContent = group.goal;
            document.getElementById('groupMembers').textContent = group.members;
            document.getElementById('groupLink').href = group.link;
            
            groupInfoDiv.classList.remove('hidden');
        }

        // ê·¸ë£¹ ë§Œë“¤ê¸°
        function handleCreateGroup() {
            const link = `https://meet.google.com/${generateRandomString(3)}-${generateRandomString(3)}-${generateRandomString(3)}`;
            
            const newGroup = {
                subject: userData.subject,
                goal: `${userData.targetGrade} ëª©í‘œ`,
                members: "ë‚˜ (1ëª…) - ëŒ€ê¸° ì¤‘",
                link: link
            };
            
            displayMatchedGroup(newGroup);
            alert('ìƒˆ ê·¸ë£¹ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤! ë‹¤ë¥¸ í•™ìƒë“¤ì´ ì°¸ì—¬í•  ë•Œê¹Œì§€ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.');
        }

        // ì±—ë´‡ ë©”ì‹œì§€ ì „ì†¡
        function handleChatSend() {
            const message = chatInput.value.trim();
            if (!message) return;
            
            // ì‚¬ìš©ì ë©”ì‹œì§€ ì¶”ê°€
            addChatMessage(message, 'user');
            chatInput.value = '';
            
            // AI ì‘ë‹µ ìƒì„±
            setTimeout(() => {
                const responses = [
                    "ì¢‹ì€ ì§ˆë¬¸ì´ë„¤ìš”! ê·¸ ë¶€ë¶„ì— ëŒ€í•´ ë” ìì„¸íˆ ì„¤ëª…í•´ë“œë¦´ê²Œìš”.",
                    "ê·¸ ì§ˆë¬¸ì— ëŒ€í•œ ë‹µë³€ì„ ì°¾ì•„ë³´ê³  ìˆì–´ìš”. ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”!",
                    "í¥ë¯¸ë¡œìš´ ê´€ì ì´ì—ìš”. ë‹¤ë¥¸ ê°ë„ì—ì„œë„ ìƒê°í•´ë³´ë©´ ì–´ë–¨ê¹Œìš”?",
                    "ê·¸ ë¶€ë¶„ì´ ì–´ë ¤ìš°ì‹œë‹¤ë©´, ê¸°ì´ˆë¶€í„° ì°¨ê·¼ì°¨ê·¼ ì„¤ëª…í•´ë“œë¦´ê²Œìš”.",
                    "ì‹¤ì œ ì˜ˆì‹œë¥¼ ë“¤ì–´ê°€ë©° ì„¤ëª…í•´ë“œë¦¬ë©´ ì´í•´í•˜ê¸° ì‰¬ìš¸ ê±°ì˜ˆìš”."
                ];
                
                const response = responses[Math.floor(Math.random() * responses.length)];
                addChatMessage(response, 'bot');
            }, 1000);
        }

        // ì±—ë´‡ ë©”ì‹œì§€ ì¶”ê°€
        function addChatMessage(content, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            messageDiv.innerHTML = `<div class="message-content">${content}</div>`;
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // ëŒ€ì‹œë³´ë“œ í‘œì‹œ
        function showDashboard() {
            onboardingSection.classList.add('hidden');
            dashboardSection.classList.remove('hidden');
        }

        // ëœë¤ ë¬¸ìì—´ ìƒì„±
        function generateRandomString(length) {
            const chars = 'abcdefghijklmnopqrstuvwxyz';
            let result = '';
            for (let i = 0; i < length; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return result;
        }
    </script>
</body>
</html>
